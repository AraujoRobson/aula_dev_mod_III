<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" crossorigin="anonymous">

  <script>
    let stopwatch, value = 0;

    function stopwatch_start(){
      value = parseInt(document.getElementById("iValue").value);
      stopwatch = setInterval(
      function(){
        if(value > 0){
          value --;
          document.getElementById('interval').innerHTML = value;
        }else{
          stopwatch_stop();
          audio_auto_play();
        }
      }, 500
      )
    }

    function stopwatch_20(){
      value = 20;
      stopwatch = setInterval(
        function(){
          if(value > 0){
            value --;
            document.getElementById('interval').innerHTML = value;
          }else{
            audio_auto_play();
            stopwatch_stop();
          }
        }, 500
      )
    }

    function stopwatch_pause(){
      clearInterval(stopwatch);
    }

    function stopwatch_stop(){
      value = 0;
      document.getElementById('interval').innerHTML = value;
      clearInterval(stopwatch);
    }

    function audio_auto_play(){
      let arquive = "http://www.kasandbox.org/programming-sounds/rpg/giant-no.mp3";

      let audio = document.createElement('audio');
      audio.src = arquive;
      audio.autoplay = 'true';

      audio.onended = function() {
        this.remove();
      };

      document.body.appendChild(audio);
    }
  </script>

  <title>Questão 4</title>

</head>
<body>
  <div class="container" style="width: 50%;">
    <div class="blur">
      <div class="form-group mb-3">
        <h2 id="form"
            class="alert alert-danger"
            style="margin-top: 0.5rem; text-align: center;">
            Formulario Questão 4
        </h2>

        <label for="iValue">Digite um valor para contagem regressiva</label>
        <input name="fValue"
                type="number"
                id="iValue"
                class="form-control"
                placeholder="SOMENTE NÚMEROS."
                required>
      </div>

      <div class="form-group">
        <button onclick="stopwatch_start()"
                class="btn btn-primary"
                id="btn_start">
          <span class="fas fa-stopwatch"></span>
          Iniciar
        </button>

        <button onclick="stopwatch_pause()"
                class="btn btn-primary">
          <span class="fas fa-pause-circle"></span>
          Pausar
        </button>

        <button onclick="stopwatch_stop()"
                class="btn btn-primary">
          <span class="fas fa-stop-circle"></span>
          Parar/Resetar
        </button>

        <button onclick="stopwatch_20()"
                class="btn btn-primary">
          <span class="fas fa-stopwatch-20"></span>
          20'
        </button>
      </div>

      <div>
        <hr>
        <h3 id="interval"
            class="alert alert-info"
            style="margin-top: 0.5rem; text-align: center;">
          0
        </h3>
        <hr>
      </div>

    </div>
  </div>

  <source src="https://doc-04-5s-docs.googleusercontent.com/docs/securesc/evmbnge4pdqrnc8j78o0ro074tqj2kp1/tphk1qm203g68ilna67bco5nuqgg4a82/1668012900000/02715398518618547969/02715398518618547969/1FMKlTGADjG8xJG9iwE6TPXf21vIo26oj?e=download&amp;ax=AEKYgySP2Yc0kRFcPycNU-lBlp0jLXAl_owXJbKvfq6c5Wz_BXjiPsxb51-dT_7bk3FMAk7jhf7A1ekX13NiMcxiYk_epo6DgvLH82V0T5dfBYirXtarRvaslUz0C-d2hEosHcyvVbvKbyEUoOD3Mw8rT6q-9APqu4VuOZzcE33oXyEY63MFdJX6UmAPjNsvC3L54UYj7gx6LSQRhzh2VWSC4-cW61hzYaXrab87rluNmTlctkBgqKc5adIuhpoazS3EkFV2etmc86h433Lai6xt78ojik2vriFQLP9mGtuwQcjPVjY_ox6VhYGK7q_Q4wJiLR843sgaKBxGULvc2qehG2236caVSgg93oZitB0BrdVEfySbIs5BYK3yZqoabOoqCGeV1xaA3d37gYqYz0ramzygWpkTadNdv0lt8P6aVOcm0QXxvmBC5KTivLqqyINCP7VB97gv2L1CCoHX3EEhZlA6xdABZ-SfqVvaLowhUchUoZm5c7pN540AxZkfhuivTCnjAv5CCsnKyRtJuzH2ZD-rzu7R0YsD-yVpl3RwLTZLODzoVUYfNuYOv0Hh7ZfwbVIpOgDovF6jz-XcD07g5-QRB7BkKPpFuDqUJueHVlMPOS1OA_kURxrsjamK6dIrMoa3u2249wJ9s4E8WdnW4W0maEqL7cefxW5bb9f4P9CMqoSjpHsoIOo62IrK4M-ZQ0UnRbyyATEt3uG9FxeEa5NM_buyhVlmEtuh15r5UrmwzQzN1OdAJdlUY4_GirBd0BWYqKgCzTe8rnEu2QAWKs46-hFOTx3TwnmWgfYnjNi9HRAWoRH6iNL4pquzGtpwAI-3mCQyvwM8MJD_w7SlqGTydBavdrCuK3uSLQw2BieHx3m_rAZGySnS88sXuXbFON3nyWQvMZER8qb_10GEaZIpvVaKMDtyn0Y2bWyzuxzpc4JXWxKq7i0X3lm2aDSjwoW3xxhL-9I&amp;uuid=0c3e61ca-c47a-4b9d-b92f-168e7e9abe26&amp;authuser=0" type="audio/mpeg">
</body>
</html>
